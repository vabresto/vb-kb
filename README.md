# VB Knowledge Base

## Local setup

```bash
uv sync
```

## Run a local view-only site

```bash
uv run mkdocs serve
```

MkDocs rebuilds from `data-new/` for entities when present (fallback: `data/`) and serves at `http://127.0.0.1:8000`.

## Build static output

```bash
uv run mkdocs build
```

Build output is written to `site/`.

## Transformation layer

Source files are canonical under `data-new/` for v2 entities (`data-new/person/`, `data-new/org/`) while notes remain under `data/notes/` unless migrated.

The site output is generated by:

- `tools/build_site_content.py` (frontmatter/body transforms)
- `mkdocs_hooks.py` (runs transform before each MkDocs build/serve)

Edit `tools/build_site_content.py` to change how frontmatter appears on final pages.

Site styles are in `site_assets/stylesheets/kb.css`.

## Cloudflare Access

Deployment and access-control notes are in `CLOUDFLARE_ACCESS.md`.
